import pygame
import random
def inicializa():
    #Janela
    pygame.init()
    window = pygame.display.set_mode((800,700))
    pygame.display.set_caption('JOGO DA COBRINHA')
    dicionario = {}
    #Add parede em dic
    dicionario['parede'] = pygame.image.load('imagens/parede.png')
    dicionario['parede'] = pygame.transform.scale(dicionario['parede'],(30,770))
    dicionario['parede1'] = pygame.image.load('imagens/parede.png')
    dicionario['parede1'] = pygame.transform.scale(dicionario['parede1'],(900,30))
    #Add cobra
    tamanho_quadrado = 10
    velocidade_cobra = 15
    tamanho_cobra = 1
    cobrax = 1
    cobray = 1
    pixels = []
    dicionario['tamanho_quadrado'] = tamanho_quadrado
    dicionario['tamanho_cobra'] = tamanho_cobra
    dicionario['velocidade_cobra'] = velocidade_cobra
    dicionario['cobrax'] = cobrax
    dicionario['cobray'] = cobray
    dicionario['pixels'] = pixels
    #COBRINHA ANDANDO
    dicionario['velocidadex'] = 0 
    dicionario['velocidadex'] = 0 
    #Relogio
    relogio = pygame.time.Clock()
    dicionario['relogio'] = relogio
    
    return window,dicionario

    #COMIDA
def gerar_comida(dicionario):
    comidax = round(random.randrange(0, 750-10)/10.0)*10.0
    comiday = round(random.randrange(0, 650-10)/10.0)*10.0
    dicionario['comidax'] = comidax
    dicionario['comiday'] = comiday
    return dicionario 

def recebe_eventos():
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            return False
    return True

def desenha(window,dicionario):

    window.fill((0,149,0))
    
    #Desenha borda
    window.blit(dicionario['parede'],(0,0))
    window.blit(dicionario['parede'],(770,0))
    window.blit(dicionario['parede1'],(0,0))
    window.blit(dicionario['parede1'],(0,670))
    #Desenhar comida
    pygame.draw.rect(window,(255,0,0),(dicionario['comidax'],dicionario['comiday'],dicionario['tamanho_quadrado'],dicionario['tamanho_quadrado']))
    #DESENHA COBRA
    for pixel in dicionario['pixels']:
        pygame.draw.rect(window, (255,255,255), [pixel[0], pixel[1], dicionario['tamanho_cobra'], dicionario['tamanho_cobra']])


    pygame.display.update()

def game_loop(window,dicionario):
    while recebe_eventos():
        gerar_comida(dicionario)
        desenha(window,dicionario)
    
w,d= inicializa()
game_loop(w,d)

